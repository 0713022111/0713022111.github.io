---
title: MySQL查询自动为结果生成序号
description: MySQL查询自动为结果生成序号
date: 2017-11-11 20:38:16
categories:
 - MySQL
tags:
 - MySQL
---

**SQL语句：**   

```shell
SELECT (@i:=@i+1) AS Sequence,MEMBER_NAME FROM member, (SELECT @i:=0) as i LIMIT 0,10;
```

**解析：**

MySQL对用户变量赋值有两种方式，一种是直接用```"="```号，另一种是用```":="```号。

其区别在于使用set命令对用户变量进行赋值时，两种方式都可以使用；当使用select语句对用户变量进行赋值时，只能使用":="方式，因为在select语句中，"="号被看作是比较操作符。

(@i:=@i+1) 也可以写成 @i:=@i+1，加括号是为了视觉上看这结构更清楚些。在定义好一个变量后每次查询都会给这个变量自增，而我们每次执行查询语句获取结果后就不需要这个变量自增了，所以要把它重置为0，在表名后用逗号分隔下使用 (SELECT @i:=0) as i 就可以了，说下这个as i为什么要这样用，是因为派生表必须需要一个别名，这个就是做它的别名，可以任意字符。

**结果：**  

| Sequence | MEMBER_NAME |
| -------- | ----------- |
| 1        | 刘领珍      |
| 2        | 顾友珍      |
| 3        | 张文姑娘    |
| 4        | 邹等姑娘    |
| 5        | 王风英      |
| 6        | 钱巧珍      |
| 7        | 白二姑娘    |
| 8        | 陆海清      |
| 9        | 仲长华      |
| 10       | 邹坤        |

  